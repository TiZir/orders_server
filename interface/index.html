<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Order Details</title>
</head>

<body>
    <div>
        <input type="search" id="search" placeholder="Order ID">
        <button type="button" onclick="submitHandler()">Search</button>
    </div>

    <div>
        <h2>Order Details</h2>
        <pre id="orderData">{{ .orderData }}</pre>
    </div>


</body>

<script>
    async function submitHandler() {
        const orderData = document.getElementById("orderData");
        let searchValue = document.getElementById('search').value;
        if (searchValue == "") {
            alert("Input order id!");
        } else {
            window.location = "http://localhost:9090/orders/" + searchValue
            const response = await fetch("http://localhost:9090/orders/" + searchValue);
            const order = await response.json();
            orderData.textContent = JSON.stringify(order, null, 2);
        }
    }
</script>

</html>